<div class="form-container">
  <div class="form-card">
    <h2 class="form-title">Participant Registration</h2>

    <form
      [formGroup]="registrationForm"
      (ngSubmit)="onSubmit()"
      class="registration-form"
    >
      <!-- Name Field (Pre-filled) -->
      <div class="form-group">
        <label for="name">Name</label>
        <input
          type="text"
          id="name"
          formControlName="name"
          class="form-control"
          [disabled]="true"
        />
      </div>

      <!-- P_ID Field (Pre-filled) -->
      <div class="form-group">
        <label for="pId">P_ID</label>
        <input
          type="text"
          id="pId"
          formControlName="pId"
          class="form-control"
          [disabled]="true"
        />
      </div>

      <!-- Referral Source Dropdown -->
      <div class="form-group">
        <label for="referralSource">Referral Source</label>
        <select
          id="referralSource"
          formControlName="referralSource"
          class="form-control"
        >
          <option value="">Select Referral Source</option>
          <option *ngFor="let source of referralSources" [value]="source">
            {{ source }}
          </option>
        </select>
        <div
          *ngIf="
            registrationForm.get('referralSource')?.invalid &&
            registrationForm.get('referralSource')?.touched
          "
          class="error-message"
        >
          <small>Referral source is required</small>
        </div>
      </div>

      <!-- Type Dropdown -->
      <div class="form-group">
        <label for="type">Type</label>
        <select id="type" formControlName="type" class="form-control">
          <option value="">Select Type</option>
          <option *ngFor="let type of types" [value]="type">
            {{ type }}
          </option>
        </select>
        <div
          *ngIf="
            registrationForm.get('type')?.invalid &&
            registrationForm.get('type')?.touched
          "
          class="error-message"
        >
          <small>Type is required</small>
        </div>
      </div>

      <!-- Age Field -->
      <div class="form-group">
        <label for="age">Age</label>
        <input
          type="number"
          id="age"
          formControlName="age"
          class="form-control"
          min="1"
          max="120"
        />
        <div
          *ngIf="
            registrationForm.get('age')?.invalid &&
            registrationForm.get('age')?.touched
          "
          class="error-message"
        >
          <small>Age is required and must be between 1 and 120</small>
        </div>
      </div>

      <!-- Gender Radio Buttons -->
      <div class="form-group">
        <label>Gender</label>
        <div class="radio-group">
          <label class="radio-label">
            <input type="radio" formControlName="gender" value="Male" />
            Male
          </label>
          <label class="radio-label">
            <input type="radio" formControlName="gender" value="Female" />
            Female
          </label>
          <label class="radio-label">
            <input type="radio" formControlName="gender" value="Other" />
            Other
          </label>
        </div>
        <div
          *ngIf="
            registrationForm.get('gender')?.invalid &&
            registrationForm.get('gender')?.touched
          "
          class="error-message"
        >
          <small>Gender is required</small>
        </div>
      </div>

      <!-- Event Name Field -->
      <div class="form-group">
        <label for="eventName">Event Name</label>
        <input
          type="text"
          id="eventName"
          formControlName="eventName"
          class="form-control"
        />
        <div
          *ngIf="
            registrationForm.get('eventName')?.invalid &&
            registrationForm.get('eventName')?.touched
          "
          class="error-message"
        >
          <small>Event name is required</small>
        </div>
      </div>

      <!-- Department Field -->
      <div class="form-group">
        <label for="department">Department</label>
        <input
          type="text"
          id="department"
          formControlName="department"
          class="form-control"
        />
        <div
          *ngIf="
            registrationForm.get('department')?.invalid &&
            registrationForm.get('department')?.touched
          "
          class="error-message"
        >
          <small>Department is required</small>
        </div>
      </div>

      <!-- Medical Condition Field -->
      <div class="form-group">
        <label for="medicalCondition">Medical Condition</label>
        <textarea
          id="medicalCondition"
          formControlName="medicalCondition"
          class="form-control"
          rows="3"
        ></textarea>
      </div>

      <!-- Submit Button -->
      <button
        type="submit"
        class="btn btn-primary btn-block"
        [disabled]="registrationForm.invalid || isSubmitting"
      >
        {{ isSubmitting ? "Submitting..." : "Submit" }}
      </button>
    </form>
  </div>
</div>
